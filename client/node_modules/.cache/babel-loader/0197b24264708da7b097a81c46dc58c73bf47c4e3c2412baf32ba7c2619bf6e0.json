{"ast":null,"code":"var _jsxFileName = \"/Users/sitewang/github_hackathon/client/src/components/ChatInterface.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Input, Button, Text, useToast, Flex, Heading } from '@chakra-ui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ChatInterface = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const toast = useToast();\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    // Add user message\n    const userMessage = {\n      role: 'user',\n      content: input\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    try {\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: input\n        })\n      });\n      const data = await response.json();\n      const assistantMessage = {\n        role: 'assistant',\n        content: data.response\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to get response from the assistant',\n        status: 'error',\n        duration: 3000,\n        isClosable: true\n      });\n    }\n  };\n\n  // Format calculation details for display\n  const formatCalculationDetails = details => {\n    return `ðŸš€ Interstellar Trade Calculation Analysis ðŸš€\n\nROUTE\nFrom: ${details.sourcePlanet}\nTo: ${details.destinationPlanet}\nDistance: ${details.distance.toFixed(2)} AU (${(details.distance * 149597870.7).toFixed(0)} million km)\n\nTRAVEL TIME\nâ€¢ Earth observer time: ${details.travelTime.toFixed(1)} days\nâ€¢ Ship crew time: ${details.shipTime.toFixed(1)} days\nâ€¢ Time dilation factor: ${details.timeDilation.toFixed(4)}\n\nECONOMIC DETAILS\nâ€¢ Payment type: ${details.paymentType === 'upfront' ? 'Upfront payment' : 'Payment on delivery'}\nâ€¢ Base annual interest rate: 5%\nâ€¢ Effective interest rate: ${(details.interestRate * 100).toFixed(4)}%\nâ€¢ Total cost: ${details.totalCost.toFixed(2)} credits\n\nTHEORETICAL BACKGROUND\nAccording to Krugman's \"Theory of Interstellar Trade\" (1978):\n1. Interest rates must be calculated in proper time (ship time) for the trader's reference frame\n2. Different time rates create arbitrage opportunities\n3. Time dilation affects both the goods' delivery and the interest payments\n\nThe calculations follow Einstein's special relativity:\nâ€¢ Time dilation: t' = t/Î³ where Î³ = 1/âˆš(1 - vÂ²/cÂ²)\nâ€¢ At 10% light speed, time dilation is small but measurable\nâ€¢ Earth time > Ship time due to relativistic effects`;\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 6,\n    bg: \"white\",\n    borderRadius: \"xl\",\n    boxShadow: \"lg\",\n    h: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"lg\",\n      mb: 4,\n      children: \"Planet Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      flex: 1,\n      overflowY: \"auto\",\n      mb: 4,\n      children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(Flex, {\n        justify: message.role === 'user' ? 'flex-end' : 'flex-start',\n        mb: 2,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          bg: message.role === 'user' ? 'blue.100' : message.role === 'system' ? 'green.100' : 'gray.100',\n          p: 3,\n          borderRadius: \"lg\",\n          maxW: \"80%\",\n          whiteSpace: \"pre-wrap\",\n          fontFamily: message.role === 'system' ? 'mono' : 'inherit',\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      gap: 2,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: \"Ask about planets...\",\n        onKeyPress: e => e.key === 'Enter' && handleSend(),\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"blue\",\n        onClick: handleSend,\n        size: \"lg\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"QXtOVuO5RVRiYX7TAgSLNZalJ6o=\", false, function () {\n  return [useToast];\n});\n_c = ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","Box","Input","Button","Text","useToast","Flex","Heading","jsxDEV","_jsxDEV","ChatInterface","_s","messages","setMessages","input","setInput","toast","handleSend","trim","userMessage","role","content","prev","response","fetch","method","headers","body","JSON","stringify","message","data","json","assistantMessage","error","title","description","status","duration","isClosable","formatCalculationDetails","details","sourcePlanet","destinationPlanet","distance","toFixed","travelTime","shipTime","timeDilation","paymentType","interestRate","totalCost","p","bg","borderRadius","boxShadow","h","display","flexDirection","children","size","mb","fileName","_jsxFileName","lineNumber","columnNumber","flex","overflowY","map","index","justify","maxW","whiteSpace","fontFamily","gap","value","onChange","e","target","placeholder","onKeyPress","key","colorScheme","onClick","_c","$RefreshReg$"],"sources":["/Users/sitewang/github_hackathon/client/src/components/ChatInterface.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  VStack,\n  Input,\n  Button,\n  Text,\n  useToast,\n  Flex,\n  Heading,\n  Code,\n} from '@chakra-ui/react';\n\ninterface Message {\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n}\n\nexport const ChatInterface: React.FC = () => {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState('');\n  const toast = useToast();\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    // Add user message\n    const userMessage: Message = { role: 'user', content: input };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n\n    try {\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ message: input }),\n      });\n\n      const data = await response.json();\n      const assistantMessage: Message = { role: 'assistant', content: data.response };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to get response from the assistant',\n        status: 'error',\n        duration: 3000,\n        isClosable: true,\n      });\n    }\n  };\n\n  // Format calculation details for display\n  const formatCalculationDetails = (details: any) => {\n    return `ðŸš€ Interstellar Trade Calculation Analysis ðŸš€\n\nROUTE\nFrom: ${details.sourcePlanet}\nTo: ${details.destinationPlanet}\nDistance: ${details.distance.toFixed(2)} AU (${(details.distance * 149597870.7).toFixed(0)} million km)\n\nTRAVEL TIME\nâ€¢ Earth observer time: ${details.travelTime.toFixed(1)} days\nâ€¢ Ship crew time: ${details.shipTime.toFixed(1)} days\nâ€¢ Time dilation factor: ${details.timeDilation.toFixed(4)}\n\nECONOMIC DETAILS\nâ€¢ Payment type: ${details.paymentType === 'upfront' ? 'Upfront payment' : 'Payment on delivery'}\nâ€¢ Base annual interest rate: 5%\nâ€¢ Effective interest rate: ${(details.interestRate * 100).toFixed(4)}%\nâ€¢ Total cost: ${details.totalCost.toFixed(2)} credits\n\nTHEORETICAL BACKGROUND\nAccording to Krugman's \"Theory of Interstellar Trade\" (1978):\n1. Interest rates must be calculated in proper time (ship time) for the trader's reference frame\n2. Different time rates create arbitrage opportunities\n3. Time dilation affects both the goods' delivery and the interest payments\n\nThe calculations follow Einstein's special relativity:\nâ€¢ Time dilation: t' = t/Î³ where Î³ = 1/âˆš(1 - vÂ²/cÂ²)\nâ€¢ At 10% light speed, time dilation is small but measurable\nâ€¢ Earth time > Ship time due to relativistic effects`;\n  };\n\n  return (\n    <Box p={6} bg=\"white\" borderRadius=\"xl\" boxShadow=\"lg\" h=\"100%\" display=\"flex\" flexDirection=\"column\">\n      <Heading size=\"lg\" mb={4}>Planet Information</Heading>\n      \n      <Box flex={1} overflowY=\"auto\" mb={4}>\n        {messages.map((message, index) => (\n          <Flex\n            key={index}\n            justify={message.role === 'user' ? 'flex-end' : 'flex-start'}\n            mb={2}\n          >\n            <Box\n              bg={message.role === 'user' ? 'blue.100' : message.role === 'system' ? 'green.100' : 'gray.100'}\n              p={3}\n              borderRadius=\"lg\"\n              maxW=\"80%\"\n              whiteSpace=\"pre-wrap\"\n              fontFamily={message.role === 'system' ? 'mono' : 'inherit'}\n            >\n              <Text>{message.content}</Text>\n            </Box>\n          </Flex>\n        ))}\n      </Box>\n\n      <Flex gap={2}>\n        <Input\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Ask about planets...\"\n          onKeyPress={(e) => e.key === 'Enter' && handleSend()}\n          size=\"lg\"\n        />\n        <Button\n          colorScheme=\"blue\"\n          onClick={handleSend}\n          size=\"lg\"\n        >\n          Send\n        </Button>\n      </Flex>\n    </Box>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}